<html><head><title>Assignement2</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}.c8{border-bottom-width:1pt;border-top-style:solid;width:39.8pt;border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-bottom-style:solid;vertical-align:top;border-top-color:#000000;border-left-color:#000000;border-right-color:#000000;border-left-style:solid;border-right-width:1pt;border-left-width:1pt}.c17{border-bottom-width:1pt;border-top-style:solid;width:1180.5pt;border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-bottom-style:solid;vertical-align:top;border-top-color:#000000;border-left-color:#000000;border-right-color:#000000;border-left-style:solid;border-right-width:1pt;border-left-width:1pt}.c1{vertical-align:baseline;color:#000000;font-size:12pt;font-style:normal;font-family:"Times New Roman";text-decoration:none;font-weight:normal}.c6{vertical-align:baseline;color:#000000;font-size:12pt;font-style:normal;font-family:"Arial";text-decoration:none;font-weight:normal}.c0{vertical-align:baseline;color:#000000;font-size:12pt;font-style:normal;font-family:"Courier New";text-decoration:none;font-weight:normal}.c16{vertical-align:baseline;color:#000000;font-style:normal;font-family:"Arial";text-decoration:none}.c14{vertical-align:baseline;color:#ff0000;font-style:normal;text-decoration:none;font-weight:bold}.c9{line-height:1.0;padding-top:0pt;text-align:center;direction:ltr;padding-bottom:0pt}.c2{line-height:1.0;padding-top:0pt;text-align:left;direction:ltr;padding-bottom:0pt}.c13{widows:2;orphans:2;text-align:center;direction:ltr}.c7{max-width:1224pt;background-color:#ffffff;padding:0pt 0pt 0pt 0pt}.c11{margin-right:auto;border-collapse:collapse;margin-left:auto}.c3{font-size:12pt;font-family:"Times New Roman"}.c10{font-size:12pt;font-weight:bold}.c5{height:0pt}.c4{height:11pt}.c12{font-size:12pt}.c15{font-weight:bold}.title{widows:2;padding-top:0pt;line-height:1.15;orphans:2;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}.subtitle{widows:2;padding-top:0pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt;page-break-after:avoid}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{widows:2;padding-top:10pt;line-height:1.15;orphans:2;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}h2{widows:2;padding-top:10pt;line-height:1.15;orphans:2;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt;page-break-after:avoid}h3{widows:2;padding-top:8pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt;page-break-after:avoid}h4{widows:2;padding-top:8pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}h5{widows:2;padding-top:8pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}h6{widows:2;padding-top:8pt;line-height:1.15;orphans:2;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt;page-break-after:avoid}</style></head>

<body class="c7">
<!----------------------------><!----------------------------><!----------------------------><!----------------------------><!---------------------------->
<center>
<table border="1">
<tr width="100%">
<td width="30%" valign="bottom" style="color: #FF0000; font-size:20pt">Submission Time Left</td>
<td width="70%"><iframe src="SubmissionTimer2.html" frameBorder="0" scrolling="no" width="100%" height="25%"></iframe></td>
</tr>
<tr>
<td width="30%" valign="bottom" style="color: #FF0000;font-size:20pt">Late submission Time Left</td>
<td width="70%"><iframe src="LateSubmissionTimer2.html" frameBorder="0" scrolling="no" width="100%" height="25%"></iframe></td>
</tr>
</table>
</center>
<!----------------------------><!----------------------------><!----------------------------><!----------------------------><!---------------------------->


<p class="c13 c4"><span class="c12"></span></p><p class="c13 c4"><span class="c12"></span></p><a href="#" name="eca5927a49e9b6a082a96dbb3e8426c6df3e3ddd"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" class="c11"><tbody><tr class="c5"><td class="c8" colspan="1" rowspan="1"><p class="c2"><span class="c10">Sl.</span></p></td><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c10 c16">Questions</span></p></td></tr><tr class="c5"><td class="c8" colspan="1" rowspan="1"><p class="c2"><span class="c6">1.</span></p></td>

<td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c14 c3">Section~1:</span></p><p class="c2"><span class="c1">The objective of this assignment is to simulate an automatic transaction machine (ATM). Lets consider a bank account is used by ``N&quot; different user. Commands that a user may want to perform to the account include adding an amount to the balance, subtracting an amount from the balance, and printing the current balance (See section~3). The specification of the system is as follows.</span></p><p class="c2 c4"><span class="c1"></span></p><p class="c2"><span class="c1">1. Accept the value of N and the initial balance (Global Variable) in the account from user.</span></p><p class="c2"><span class="c1">2. Each user is represented by a process. These processes can be spawned by the main system. Alternately you can use crontab to trigger the jobs. At least 100 user must be present in the system.</span></p><p class="c2"><span class="c1">3. Each user uses a set of commands kept in a file (say UserName.dat). (Example given in section~2). The user must trigger the set of commands after random time interval.</span></p><p class="c2"><span class="c1">4. The final balance must be printed before the program terminates.</span></p><p class="c2"><span class="c1">5. Please ensure that your program must run for 15 mins and each user must issue 500 commands at least. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c2"><span class="c14 c3">Section~2:</span></p><p class="c2"><span class="c1">``UserName.dat&quot; files will be provided at the time of evaluation and the format should be as following</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0">SUB 300</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SUB 50</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SUB 200</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD 20</span></p><p class="c2"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GET</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c2"><span class="c3 c14">Section~3:</span></p><p class="c2"><span class="c1">Command references are given below.</span></p><p class="c2"><span class="c1">``ADD&quot; amount should add the amount to the account balance.</span></p><p class="c2"><span class="c1">``SUB&quot; amount should subtract the amount from the account balance.</span></p><p class="c2"><span class="c1">``GET&quot; should display the current account balance. Sample output is:</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0">User 1 views account balance of $970.</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0">User 2 views account balance of $950.</span></p><p class="c2"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c0">User 1 views account balance of $970.</span></p><p class="c2"><span class="c14 c3">Section~4:</span></p><p class="c2"><span class="c1">A. Write a C program using shared memory only to implement the ATM system mentioned above.</span></p><p class="c2"><span class="c1">B. Using message passing, implement the ATM system.</span></p><p class="c2"><span class="c3">C. Take synchronization measures taken for writing the program.</span></p></td></tr><tr class="c5"><td class="c8" colspan="1" rowspan="1"><p class="c2 c4"><span class="c6"></span></p></td>

<td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c3">There is a departmental store, which is subdivided into two sections. </span><span class="c3 c15">1. Storage area (SA) 2. Display Area(DA)</span><span class="c1">.</span></p><p class="c2"><span class="c1">The SA contains 100000 different items. The DA has a capacity of 500 items. A customer, wants to buy, asks for the Item ID of the particular item. Whenever an item is not present in the DA, the store workers fetch the item from the SA and places in the DA. For doing this the ``out of trend&quot; item is moved back in SA and the requested item takes its place. An item is called ``out of trend&quot; if it is not accessed for a long period.</span></p><p class="c2 c4"><span class="c1"></span></p><p class="c2"><span class="c3">Develop an efficient algorithm for item placement. Write a C program to simulate the solution of the problem. All the inputs to the simulator must be provided via files. Keep a log of operations so that anybody can understand the procedure. A set of sample input files can be found <a href="">here</a>.</span></p></td></tr><tr class="c5"><td class="c8" colspan="1" rowspan="1"><p class="c2 c4"><span class="c6"></span></p></td>

<td class="c17" colspan="1" rowspan="1"><p class="c2"><span class="c1">In a heroic effort to meet increasingly tighter shipping deadlines, a company has employed a Bidirectional Autonomous Trolley (BAT) system to move products from its warehouses to the delivery trucks. Each BAT is a mobile platform that travels on separate tracks back and forth between a warehouse and a truck. Because the goods are fragile, the tracks are perfectly leveled, which requires the placement of level crossings between warehouses. At most one BAT can cross at a time. Traffic at the crossing arriving from the right has the right of way. But this presents a problem, as the company soon found out when a simultaneous shipment of plastic penguins and black umbrellas caused the system to come to a grinding halt. Two BATs with the shipments and two other BATs returning to the warehouses were deadlocked at a level crossing:</span></p><p class="c2 c4"><span class="c1"></span></p><p class="c9"><span style="overflow: hidden; display: inline-block; margin: -0.00px -0.00px; border: 2.67px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 390.00px; height: 391.00px;"><img alt="Screenshot from 2015-01-27 14:40:10.png" src="images/image00.png" style="width: 390.00px; height: 391.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2 c4"><span class="c1"></span></p><p class="c2"><span class="c1">In our system each BAT is controlled by a separate thread. It is your task to create BATMAN: a BAT Manager that prevents deadlock at a crossing. Part of the solution is to use one mutex lock for the crossing, so that at most one BAT at a time can pass. The mutex lock will act as a monitor for the BAT operations at the crossing. Besides the mutex lock, we will also need a set of condition variables to control the synchronization of the BATs.</span></p><p class="c2 c4"><span class="c1"></span></p><p class="c2"><span class="c1">We need a condition variable per BAT to queue BATs arriving from one direction (NorthQueue, EastQueue, SouthQueue, WestQueue). For example, when a BAT from North is already at the crossing, a second BAT from North will have to wait.</span></p><p class="c2 c4"><span class="c1"></span></p><p class="c2"><span class="c1">Another type of condition variable is needed to let BATs from the right have precedence to cross (NorthFirst, EastFirst, SouthFirst, WestFirst). However, using this rule can cause starvation. To prevent starvation, when a BAT is waiting to cross but BATs continuously arriving from the right have the right of way, we will let a BAT that just passed the crossing signal a waiting BAT on his left.</span></p><p class="c2"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c2"><span class="c1">When deadlock occurs the BAT Manager must signal one of the BATs to proceed, e.g. the BAT from North. You will need a counter for each direction to keep track of the number of BATs waiting in line.</span></p><p class="c2 c4"><span class="c1"></span></p><p class="c2"><span class="c1">The program must take a string of &#39;n&#39;, &#39;s&#39;, &#39;e&#39;, &#39;w&#39; from the command line indicating a sequence of arrivals of BATs from the four directions. For example:</span></p><p class="c2 c4"><span class="c1"></span></p><p class="c2"><span class="c0">$ ./batman nsewwewn</span></p><p class="c2"><span class="c0">BAT 4 from West arrives at crossing</span></p><p class="c2"><span class="c0">BAT 2 from South arrives at crossing</span></p><p class="c2"><span class="c0">BAT 1 from North arrives at crossing</span></p><p class="c2"><span class="c0">BAT 3 from East arrives at crossing</span></p><p class="c2"><span class="c0">DEADLOCK: BAT jam detected, signalling North to go</span></p><p class="c2"><span class="c0">BAT 1 from North leaving crossing</span></p><p class="c2"><span class="c0">BAT 3 from East leaving crossing</span></p><p class="c2"><span class="c0">BAT 2 from South leaving crossing</span></p><p class="c2"><span class="c0">BAT 4 from West leaving crossing</span></p><p class="c2"><span class="c0">BAT 6 from East arrives at crossing</span></p><p class="c2"><span class="c0">BAT 5 from West arrives at crossing</span></p><p class="c2"><span class="c0">BAT 8 from North arrives at crossing</span></p><p class="c2"><span class="c0">BAT 5 from West leaving crossing</span></p><p class="c2"><span class="c0">BAT 6 from East leaving crossing</span></p><p class="c2"><span class="c0">BAT 8 from North leaving crossing</span></p><p class="c2"><span class="c0">BAT 7 from West arrives at crossing</span></p><p class="c2"><span class="c0">BAT 7 from West leaving crossing</span></p><p class="c4 c9"><span class="c1"></span></p></td></tr></tbody></table><p class="c4 c13"><span class="c12"></span></p></body></html>
